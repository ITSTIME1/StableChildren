<!DOCTYPE html>
<html>
<head>
  <title>물체 폭발 애니메이션</title>
  <style>
    canvas {
      border: 1px solid black;
    }
  </style>
</head>
<body>
  <canvas id="myCanvas" width="400" height="400"></canvas>

  <script>
    // 캔버스 요소와 컨텍스트 가져오기
    const canvas = document.getElementById('myCanvas');
    const ctx = canvas.getContext('2d');

    // 물체의 속성 설정
    const radius = 50;
    const x = canvas.width / 2;
    const y = canvas.height / 2;
    const pieces = 20;
    const pieceSize = radius / pieces;
    const explosionForce = 5;

    // 조각들 배열 생성 및 초기화
    let piecesArr = [];
    for (let i = 0; i < pieces; i++) {
      for (let j = 0; j < pieces; j++) {
        const px = x + i * pieceSize;
        const py = y + j * pieceSize;
        const piece = {
          x: px,
          y: py,
          xSpeed: (Math.random() - 0.5) * explosionForce,
          ySpeed: (Math.random() - 0.5) * explosionForce,
          color: 'red'
        };
        piecesArr.push(piece);
      }
    }

    // 애니메이션 프레임 업데이트
    function update() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // 조각들 이동 및 그리기
      for (let i = 0; i < piecesArr.length; i++) {
        const piece = piecesArr[i];
        piece.x += piece.xSpeed;
        piece.y += piece.ySpeed;

        ctx.beginPath();
        ctx.rect(piece.x, piece.y, pieceSize, pieceSize);
        ctx.fillStyle = piece.color;
        ctx.fill();
        ctx.closePath();
      }

      // 애니메이션 프레임 업데이트
      requestAnimationFrame(update);
    }

    // 애니메이션 시작
    update();
  </script>
</body>
</html>